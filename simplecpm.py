# simplecpm
# Simple python script for project's critical path evaluation.
# April 2022
# Credits:
# criticalpath python package (https://pypi.org/project/critical-path/)

from criticalpath import Node
p = Node('project')
z1 = p.add(Node('0.1', duration=23))
z2 = p.add(Node('0.2', duration=1, lag=0))
z3 = p.add(Node('0.3', duration=1, lag=0))
z4 = p.add(Node('0.4', duration=1, lag=0))
z5 = p.add(Node('0.5', duration=1, lag=0))
z6 = p.add(Node('0.6', duration=1, lag=0))
z7 = p.add(Node('0.7', duration=1, lag=0))

fase2 =  p.add(Node('PH2', duration=35, lag=0))
fase3 =  p.add(Node('PH3', duration=16, lag=0))
fine = p.add(Node('End', duration=0, lag=0))

u1 = p.add(Node('1.1', duration=3, lag=0))
u2 = p.add(Node('1.2', duration=1, lag=0))
u3 = p.add(Node('1.3', duration=12, lag=0))
u4 = p.add(Node('1.4', duration=12, lag=0))
u5 = p.add(Node('1.5', duration=16, lag=0))
u6 = p.add(Node('1.6', duration=15, lag=0))
u7 = p.add(Node('1.7', duration=9, lag=0))
u8 = p.add(Node('1.8', duration=2, lag=0))
u9 = p.add(Node('1.9', duration=2, lag=0))
u10 = p.add(Node('1.10', duration=15, lag=0))
u11 = p.add(Node('1.11', duration=10, lag=0))
u12 = p.add(Node('1.12', duration=25, lag=0))
u13 = p.add(Node('1.13', duration=16, lag=0))
u14 = p.add(Node('1.14', duration=16, lag=0))
u15 = p.add(Node('1.15', duration=11, lag=0))
u16 = p.add(Node('1.16', duration=17, lag=0))
u17 = p.add(Node('1.17', duration=17, lag=0))
u18 = p.add(Node('1.18', duration=4, lag=0))
u19 = p.add(Node('1.19', duration=10, lag=0))
u20 = p.add(Node('1.20', duration=16, lag=0))
u21 = p.add(Node('1.21', duration=16, lag=0))
u22 = p.add(Node('1.22', duration=6, lag=0))
u23 = p.add(Node('1.23', duration=15, lag=0))
u24 = p.add(Node('1.24', duration=0, lag=0))

p.link(z1, z2)
p.link(z2, z3)
p.link(z2, u1)
p.link(z2, u2)

p.link(z3, z4)
p.link(z3, u3)
p.link(z3, u6)
p.link(z2, u13)
p.link(z2, u14)

p.link(z4, z5)
p.link(z5, z6)
p.link(z6, z7)
p.link(z7, fine)

p.link(u1, u24)
p.link(u2, u4)
p.link(u3, u4)

p.link(u4, u5)
p.link(u5, u8)
p.link(u6, u7)
p.link(u7, u9)
p.link(u6, u7)
p.link(u8, u9)
p.link(u9, u10)
p.link(u10, u11)
p.link(u10, u12)

p.link(u14, u15)
p.link(u15, u16)
p.link(u16, u20)
p.link(u15, u17)
p.link(u11, u16)
p.link(u11, u17)

p.link(u17, u18)
p.link(u18, u21)
p.link(u21, fine)
p.link(u17, u20)

p.link(u11, u23)
p.link(u12, u23)
p.link(u10, u22)
p.link(u16, u19)
p.link(u19, u24)
p.link(u22, u23)
p.link(u23, u24)

p.link(u24, fase2)
p.link(fase2, fase3)
p.link(fase3, fine)


p.update_all()
cpm = p.get_critical_path()
print("critical path:", cpm)
print("Durata: %2d" % p.duration)
